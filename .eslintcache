[{"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\index.js":"1","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\App.js":"2","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\store\\index.js":"3","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\store\\reducer.js":"4","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\routes\\index.js":"5","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\login\\index.js":"6","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\login\\style.js":"7","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\home\\index.js":"8","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\platform\\index.js":"9","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\platform\\style.js":"10","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\about\\index.js":"11","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\privacy\\index.js":"12","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\use\\index.js":"13","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\article\\bloblist\\index.js":"14","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\personality\\bgmusic\\index.js":"15","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\personality\\bgwall\\index.js":"16","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\hoc\\router-auth\\index.js":"17","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\not-found\\index.js":"18","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\api\\user.js":"19","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\api\\request.js":"20","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\api\\config.js":"21","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\store\\constants.js":"22","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\store\\actionCreator.js":"23","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\home\\style.js":"24","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\components\\page-header\\index.js":"25","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\components\\page-header\\style.js":"26","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\article\\add-article\\index.js":"27","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\article\\add-article\\style.js":"28","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\api\\article.js":"29","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\article\\bloblist\\style.js":"30","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\api\\label.js":"31","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\article\\detail\\index.js":"32","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\article\\detail\\style.js":"33","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\article\\detail\\article-render\\index.js":"34","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\article\\detail\\article-render\\style.js":"35","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\article\\detail\\heading-block\\index.js":"36","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\article\\detail\\heading\\index.js":"37"},{"size":178,"mtime":1611734189815,"results":"38","hashOfConfig":"39"},{"size":579,"mtime":1613889406194,"results":"40","hashOfConfig":"39"},{"size":243,"mtime":1612084695787,"results":"41","hashOfConfig":"39"},{"size":314,"mtime":1612083258174,"results":"42","hashOfConfig":"39"},{"size":2573,"mtime":1613309399434,"results":"43","hashOfConfig":"39"},{"size":4338,"mtime":1612085738697,"results":"44","hashOfConfig":"39"},{"size":1175,"mtime":1611738441749,"results":"45","hashOfConfig":"39"},{"size":3395,"mtime":1612191006996,"results":"46","hashOfConfig":"39"},{"size":4891,"mtime":1612346343127,"results":"47","hashOfConfig":"39"},{"size":1906,"mtime":1613889702412,"results":"48","hashOfConfig":"39"},{"size":166,"mtime":1611839863003,"results":"49","hashOfConfig":"39"},{"size":122,"mtime":1611840076856,"results":"50","hashOfConfig":"39"},{"size":153,"mtime":1611839819989,"results":"51","hashOfConfig":"39"},{"size":3242,"mtime":1613897177714,"results":"52","hashOfConfig":"39"},{"size":163,"mtime":1611840030923,"results":"53","hashOfConfig":"39"},{"size":162,"mtime":1611840049768,"results":"54","hashOfConfig":"39"},{"size":3678,"mtime":1613314750330,"results":"55","hashOfConfig":"39"},{"size":155,"mtime":1611844188471,"results":"56","hashOfConfig":"39"},{"size":755,"mtime":1612188382830,"results":"57","hashOfConfig":"39"},{"size":697,"mtime":1612085663175,"results":"58","hashOfConfig":"39"},{"size":231,"mtime":1611716315186,"results":"59","hashOfConfig":"39"},{"size":47,"mtime":1612083126773,"results":"60","hashOfConfig":"39"},{"size":156,"mtime":1612083358221,"results":"61","hashOfConfig":"39"},{"size":178,"mtime":1612088773619,"results":"62","hashOfConfig":"39"},{"size":241,"mtime":1612345714557,"results":"63","hashOfConfig":"39"},{"size":128,"mtime":1612345898542,"results":"64","hashOfConfig":"39"},{"size":6923,"mtime":1613878525126,"results":"65","hashOfConfig":"39"},{"size":279,"mtime":1613138108124,"results":"66","hashOfConfig":"39"},{"size":1050,"mtime":1613890668983,"results":"67","hashOfConfig":"39"},{"size":214,"mtime":1613305438794,"results":"68","hashOfConfig":"39"},{"size":219,"mtime":1613278137117,"results":"69","hashOfConfig":"39"},{"size":1335,"mtime":1613877406878,"results":"70","hashOfConfig":"39"},{"size":85,"mtime":1613306718679,"results":"71","hashOfConfig":"39"},{"size":1091,"mtime":1613889063635,"results":"72","hashOfConfig":"39"},{"size":21835,"mtime":1613881177914,"results":"73","hashOfConfig":"39"},{"size":644,"mtime":1613889109380,"results":"74","hashOfConfig":"39"},{"size":342,"mtime":1613888835949,"results":"75","hashOfConfig":"39"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},"g9esq9",{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"78"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"106","usedDeprecatedRules":"78"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"133","usedDeprecatedRules":"78"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"144","usedDeprecatedRules":"78"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"153","messages":"154","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"155"},"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\index.js",[],["156","157"],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\App.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\store\\index.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\store\\reducer.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\routes\\index.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\login\\index.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\login\\style.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\home\\index.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\platform\\index.js",["158"],"import React, { memo, useEffect, useMemo, useState } from \"react\";\r\nimport { Switch } from \"react-router-dom\";\r\nimport { Divider, Input, Menu, Button } from \"antd\";\r\nimport {\r\n  AppstoreOutlined,\r\n  MenuUnfoldOutlined,\r\n  MenuFoldOutlined,\r\n  PieChartOutlined,\r\n  DesktopOutlined,\r\n  ContainerOutlined,\r\n  MailOutlined,\r\n} from \"@ant-design/icons\";\r\n// hooks\r\nimport { useSelector, shallowEqual, useDispatch } from \"react-redux\";\r\nimport { changeUserInf } from \"@/store/actionCreator\";\r\nimport RouterAuth from \"@/hoc/router-auth\";\r\n// import { renderRoutes } from \"react-router-config\";\r\n// api\r\nimport { testTokenAuth } from \"@/api/user\";\r\nimport { PlatFormWrapper, Header, LeftMenu, CenterPage } from \"./style\";\r\nimport logo from \"@/assets/img/platform/logo.png\";\r\nexport default memo(function PlatForm(props) {\r\n  const [btnList] = useState([\"使用\", \"关于博客苗\"]);\r\n  const [collapsed, setCollapsed] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const { userInfo } = useSelector(\r\n    (state) => ({\r\n      userInfo: state.userInfo,\r\n    }),\r\n    [shallowEqual]\r\n  );\r\n  useEffect(() => {\r\n    testTokenAuth().then((res) => {\r\n      if (res.id) {\r\n        // 如果校验通过\r\n        dispatch(changeUserInf(res));\r\n      }\r\n    });\r\n  },[]);\r\n  const selectedKeys = useMemo(() => props.location.pathname, [\r\n    props.location.pathname,\r\n  ]);\r\n  function handleMenuItemClick(e) {\r\n    console.log(e.key);\r\n    props.history.push(e.key);\r\n  }\r\n  function onSearch() {\r\n    console.log(\"搜索\");\r\n  }\r\n  function toggleCollapsed() {\r\n    setCollapsed(!collapsed);\r\n  }\r\n  function handleLogout() {\r\n    dispatch(changeUserInf(null));\r\n    localStorage.removeItem(\"token\");\r\n    props.history.push(\"/login\");\r\n  }\r\n  return (\r\n    <PlatFormWrapper>\r\n      <Header>\r\n        <div className=\"header_logo\">\r\n          <img src={logo} alt=\"miao\" />\r\n          <span className=\"website_name\">Miao Blob</span>\r\n        </div>\r\n        <Divider type=\"vertical\" className=\"header_divider\" />\r\n        <div className=\"search_box\">\r\n          <Input.Search\r\n            className=\"search_input\"\r\n            placeholder=\"input search text\"\r\n            onSearch={onSearch}\r\n            enterButton\r\n          />\r\n        </div>\r\n        <div className=\"top_btn\">\r\n          {btnList.map((item) => (\r\n            <div key={item} className=\"btn_item\">\r\n              {item}\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"userinfo\">\r\n          <div className=\"account\">{userInfo && userInfo.name}</div>\r\n          <div className=\"info\">个人信息</div>\r\n          <div className=\"logout\" onClick={handleLogout}>\r\n            退出\r\n          </div>\r\n        </div>\r\n      </Header>\r\n      <div className=\"center\">\r\n        <LeftMenu>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={toggleCollapsed}\r\n            style={{ marginBottom: 10 }}\r\n          >\r\n            {React.createElement(\r\n              collapsed ? MenuUnfoldOutlined : MenuFoldOutlined\r\n            )}\r\n          </Button>\r\n          <Menu\r\n            selectedKeys={selectedKeys}\r\n            defaultOpenKeys={[\"/platform/article\", \"/platform/personality\"]}\r\n            mode=\"inline\"\r\n            theme=\"dark\"\r\n            inlineCollapsed={collapsed}\r\n            onClick={handleMenuItemClick}\r\n          >\r\n            <Menu.Item key=\"/platform/home\" icon={<PieChartOutlined />}>\r\n              个人信息\r\n            </Menu.Item>\r\n            <Menu.Item key=\"/platform/use\" icon={<DesktopOutlined />}>\r\n              使用\r\n            </Menu.Item>\r\n            <Menu.Item key=\"/platform/about\" icon={<ContainerOutlined />}>\r\n              关于博客苗\r\n            </Menu.Item>\r\n            <Menu.Item key=\"/platform/privacy\" icon={<PieChartOutlined />}>\r\n              隐私设置\r\n            </Menu.Item>\r\n            <Menu.SubMenu\r\n              key=\"/platform/article\"\r\n              icon={<MailOutlined />}\r\n              title=\"文章管理\"\r\n            >\r\n              <Menu.Item key=\"/platform/article/blobList\">博客列表</Menu.Item>\r\n              <Menu.Item key=\"/platform/article/add\">新增文章</Menu.Item>\r\n            </Menu.SubMenu>\r\n            <Menu.SubMenu\r\n              key=\"/platform/personality\"\r\n              icon={<AppstoreOutlined />}\r\n              title=\"个性元素管理\"\r\n            >\r\n              <Menu.Item key=\"/platform/personality/bgMusic\">\r\n                背景音乐\r\n              </Menu.Item>\r\n              <Menu.Item key=\"/platform/personality/bgWall\">背景墙</Menu.Item>\r\n            </Menu.SubMenu>\r\n          </Menu>\r\n        </LeftMenu>\r\n        <CenterPage>\r\n          <Switch>\r\n            <RouterAuth config={props.route.routes} />\r\n            {/* {renderRoutes(props.route.routes)} */}\r\n          </Switch>\r\n        </CenterPage>\r\n      </div>\r\n    </PlatFormWrapper>\r\n  );\r\n});\r\n","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\platform\\style.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\about\\index.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\privacy\\index.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\use\\index.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\article\\bloblist\\index.js",["159","160","161"],"import React, { memo, useEffect, useState } from \"react\";\r\nimport moment from \"moment\";\r\nimport PageHeader from \"@/components/page-header\";\r\nimport { Table, Tag, Space, Popconfirm, message } from \"antd\";\r\nimport { BlobListWrapper } from \"./style\";\r\nimport { getArticleList, delArticleById } from \"@/api/article\";\r\nexport default memo(function BlobList(props) {\r\n  const { Column } = Table;\r\n  const [data, setData] = useState([]);\r\n  const [pagination, setPagination] = useState({\r\n    current: 1,\r\n    pageSize: 10,\r\n    total: 0,\r\n    onChange: (page, pageSize) => {\r\n      console.log(pagination);\r\n      _getArticleList(page, pageSize);\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    _getArticleList(1, pagination.pageSize);\r\n  }, []);\r\n  function _getArticleList(page, pageSize) {\r\n    console.log(page, pageSize);\r\n    getArticleList((page - 1) * pageSize, pageSize).then((res) => {\r\n      console.log(\"getArticleList\", res);\r\n      if (res.length > 0) {\r\n        setData(res);\r\n        setPagination({ ...pagination, current: page, total: res[0].total });\r\n      }\r\n    });\r\n  }\r\n  function handleArticleDel(record) {\r\n    console.log(record);\r\n    delArticleById(record.id).then((res) => {\r\n      console.log(\"delArticleById\", res);\r\n      _getArticleList();\r\n      message.success(\"删除成功\");\r\n    });\r\n  }\r\n\r\n  function goArticleDetail(id) {\r\n    console.log(\"go\");\r\n    props.history.push(`/platform/article/detail/${id}`);\r\n  }\r\n  return (\r\n    <BlobListWrapper>\r\n      <PageHeader title={props.route.name} />\r\n      <Table dataSource={data} pagination={pagination}>\r\n        <Column title=\"文章标题\" dataIndex=\"title\" key=\"title\" />\r\n        <Column\r\n          title=\"文章内容\"\r\n          dataIndex=\"content\"\r\n          key=\"content\"\r\n          render={(text) => (\r\n            <div className=\"article_content\" title={text}>\r\n              {text}\r\n            </div>\r\n          )}\r\n        />\r\n        <Column\r\n          title=\"更新时间\"\r\n          dataIndex=\"updateTime\"\r\n          key=\"updateTime\"\r\n          render={(text) => moment(text).format(\"YYYY-MM-DD HH:mm:ss\")}\r\n        />\r\n        <Column\r\n          title=\"标签\"\r\n          dataIndex=\"labels\"\r\n          key=\"labels\"\r\n          render={(labels) => (\r\n            <>\r\n              {labels &&\r\n                labels.map((label) => (\r\n                  <Tag color=\"blue\" key={label}>\r\n                    {label}\r\n                  </Tag>\r\n                ))}\r\n            </>\r\n          )}\r\n        />\r\n        <Column\r\n          title=\"操作\"\r\n          key=\"action\"\r\n          render={(text, record) => (\r\n            <Space size=\"middle\">\r\n              <a\r\n                onClick={() => {\r\n                  goArticleDetail(record.id);\r\n                }}\r\n              >\r\n                详情\r\n              </a>\r\n              <Popconfirm\r\n                title=\"确定删除这篇文章?\"\r\n                onConfirm={() => {\r\n                  handleArticleDel(record);\r\n                }}\r\n                okText=\"Yes\"\r\n                cancelText=\"No\"\r\n              >\r\n                <a href=\"#\">删除</a>\r\n              </Popconfirm>\r\n            </Space>\r\n          )}\r\n        />\r\n      </Table>\r\n    </BlobListWrapper>\r\n  );\r\n});\r\n","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\personality\\bgmusic\\index.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\personality\\bgwall\\index.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\hoc\\router-auth\\index.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\not-found\\index.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\api\\user.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\api\\request.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\api\\config.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\store\\constants.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\store\\actionCreator.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\home\\style.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\components\\page-header\\index.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\components\\page-header\\style.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\article\\add-article\\index.js",["162","163","164","165","166"],"import React, { memo, useCallback, useEffect, useState, useRef } from \"react\";\r\nimport SimpleMDE from \"simplemde\";\r\nimport DOMPurify from \"dompurify\";\r\nimport { Input, Button, message, Tag, Tooltip } from \"antd\";\r\nimport { PlusOutlined } from \"@ant-design/icons\";\r\nimport PageHeader from \"@/components/page-header\";\r\n\r\nimport \"simplemde/dist/simplemde.min.css\";\r\n// import ' /css/font-awesome.min.css';\r\nimport { AddArticleWrapper } from \"./style\";\r\n\r\nimport { createArticle, relaMomentToLabel } from \"@/api/article\";\r\nimport { createLabel } from \"@/api/label\";\r\n\r\nexport default memo(function AddArticle(props) {\r\n  const [title, setTitle] = useState(\"\");\r\n  // const [mdHtml, setMdHtml] = useState(\"\");\r\n  const [md,setMd] = useState(\"\");\r\n  const [chooseLabels, setChooseLabels] = useState([]);\r\n  const [inputVisible, setInputVisible] = useState(false);\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n  const [editInputIndex, setEditInputIndex] = useState(-1);\r\n  const [editInputValue, setEditInputValue] = useState(\"\");\r\n  const inputEl = useRef(null);\r\n  const editInputEl = useRef(null);\r\n  const init = useCallback(() => {\r\n    const simplemde = new SimpleMDE({\r\n      renderingConfig: {\r\n        markedOptions: {\r\n          sanitize: true,\r\n        },\r\n      },\r\n      element: document.getElementById(\"md-editor\"),\r\n      //   autoDownloadFontAwesome: false,\r\n      initialValue: \"\",\r\n      showIcons: [\"code\", \"table\", \"horizontal-rule\"],\r\n      insertTexts: {\r\n        horizontalRule: [\"\", \"\\n\\n-----\\n\\n\"],\r\n        image: [\"![](http://\", \")\"],\r\n        link: [\"[\", \"](http://)\"],\r\n        table: [\r\n          \"\",\r\n          \"\\n\\n| Column 1 | Column 2 | Column 3 |\\n| -------- | -------- | -------- |\\n| Text     | Text      | Text     |\\n\\n\",\r\n        ],\r\n      },\r\n    });\r\n\r\n    // need to use the default rendering routine\r\n    /*  simplemde.options.previewRender = function (plainText) {\r\n      return DOMPurify.sanitize(simplemde.markdown(plainText));\r\n    }; */\r\n\r\n    /*  if (this.value) {\r\n      simplemde.value(this.value);\r\n    } */\r\n    simplemde.codemirror.on(\"change\", (newVal) => {\r\n      /*    if (this.hasChange) {\r\n        this.hasChange = true;\r\n      } */\r\n      console.log(simplemde.value())\r\n      // const html = simplemde.markdown(simplemde.value());\r\n      setMd(simplemde.value());\r\n    });\r\n  }, [SimpleMDE]);\r\n  const handleTitleChange = useCallback((e) => {\r\n    setTitle(e.target.value);\r\n  });\r\n  const handleArticleSubmit = useCallback(() => {\r\n    console.log(title, md);\r\n    _createArticle(title, md);\r\n  }, [_createArticle]);\r\n  const handleEditInputChange = (e) => {\r\n    setEditInputValue(e.target.value);\r\n  };\r\n  const handleEditInputConfirm = () => {\r\n    const newTags = [...chooseLabels];\r\n    newTags[editInputIndex] = editInputValue;\r\n    setChooseLabels(newTags);\r\n    setEditInputIndex(-1);\r\n    setEditInputValue(\"\");\r\n  };\r\n  const handleClose = (removedTag) => {\r\n    const tags = chooseLabels.filter((tag) => tag !== removedTag);\r\n    console.log(tags);\r\n    setChooseLabels(tags);\r\n  };\r\n  const showInput = async () => {\r\n    await setInputVisible(true);\r\n    inputEl.current.focus();\r\n  };\r\n  const handleInputChange = (e) => {\r\n    setInputValue(e.target.value);\r\n  };\r\n\r\n  const handleInputConfirm = () => {\r\n    let tags = chooseLabels;\r\n    if (inputValue && chooseLabels.indexOf(inputValue) === -1) {\r\n      tags = [...tags, inputValue];\r\n    }\r\n    console.log(tags);\r\n\r\n    setChooseLabels(tags);\r\n    setInputVisible(false);\r\n    setInputValue(\"\");\r\n  };\r\n  function _createArticle(title, content) {\r\n    createArticle(title, content).then((res) => {\r\n      console.log(res);\r\n      if (res.insertId) {\r\n        const articleId = res.insertId; // 文章id\r\n        console.log(chooseLabels);\r\n        // 创建标签\r\n        createLabel({ labels: chooseLabels }).then((res) => {\r\n          console.log(\"createArticle\", res);\r\n          const labelIds = res.ids;\r\n          // 将文章与标签做关联操作\r\n          relaMomentToLabel(articleId, labelIds).then((res) => {\r\n            console.log(res);\r\n            message.success(\"文章发布成功\");\r\n          });\r\n        });\r\n      }\r\n    });\r\n  }\r\n  useEffect(() => {\r\n    init();\r\n  }, []);\r\n  return (\r\n    <AddArticleWrapper>\r\n      <PageHeader title={props.route.name} />\r\n      <div className=\"article-title\">\r\n        <Input\r\n          style={{ fontWeight: 700 }}\r\n          placeholder=\"输入文章标题...\"\r\n          bordered={false}\r\n          onChange={handleTitleChange}\r\n        />\r\n      </div>\r\n      <textarea id=\"md-editor\" defaultValue=\"\" />\r\n      {chooseLabels.map((tag, index) => {\r\n        if (editInputIndex === index) {\r\n          return (\r\n            <Input\r\n              ref={editInputEl}\r\n              key={tag}\r\n              size=\"small\"\r\n              className=\"tag-input\"\r\n              value={editInputValue}\r\n              onChange={handleEditInputChange}\r\n              onBlur={handleEditInputConfirm}\r\n              onPressEnter={handleEditInputConfirm}\r\n            />\r\n          );\r\n        }\r\n\r\n        const isLongTag = tag.length > 20;\r\n\r\n        const tagElem = (\r\n          <Tag\r\n            className=\"edit-tag\"\r\n            key={tag}\r\n            closable={index !== -1}\r\n            onClose={() => handleClose(tag)}\r\n          >\r\n            <span\r\n              onDoubleClick={async (e) => {\r\n                if (index !== 0) {\r\n                  /*   this.setState(\r\n                                { editInputIndex: index, editInputValue: tag },\r\n                                () => {\r\n                                  this.editInput.focus();\r\n                                }\r\n                              ); */\r\n                  await setEditInputIndex(index);\r\n                  await setEditInputValue(tag);\r\n                  editInputEl.current.focus();\r\n                  // e.preventDefault();\r\n                }\r\n              }}\r\n            >\r\n              {isLongTag ? `${tag.slice(0, 20)}...` : tag}\r\n            </span>\r\n          </Tag>\r\n        );\r\n        return isLongTag ? (\r\n          <Tooltip title={tag} key={tag}>\r\n            {tagElem}\r\n          </Tooltip>\r\n        ) : (\r\n          tagElem\r\n        );\r\n      })}\r\n      {inputVisible && (\r\n        <Input\r\n          ref={inputEl}\r\n          type=\"text\"\r\n          size=\"small\"\r\n          className=\"tag-input\"\r\n          value={inputValue}\r\n          onChange={handleInputChange}\r\n          onBlur={handleInputConfirm}\r\n          onPressEnter={handleInputConfirm}\r\n        />\r\n      )}\r\n      {!inputVisible && (\r\n        <Tag className=\"site-tag-plus\" onClick={showInput}>\r\n          <PlusOutlined />\r\n          新建标签\r\n        </Tag>\r\n      )}\r\n      <div className=\"form-btn\">\r\n        <Button type=\"primary\" onClick={handleArticleSubmit}>\r\n          发布\r\n        </Button>\r\n      </div>\r\n    </AddArticleWrapper>\r\n  );\r\n});\r\n","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\article\\add-article\\style.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\api\\article.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\article\\bloblist\\style.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\api\\label.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\article\\detail\\index.js",["167","168","169"],"import React, { memo, useCallback, useEffect, useState } from \"react\";\r\nimport { Breadcrumb } from \"antd\";\r\nimport ArticleRender from \"./article-render\";\r\nimport { DetailWrapper } from \"./style\";\r\nimport { getrticleDetailById } from \"@/api/article\";\r\n\r\nexport default memo(function ArticleDetail(props) {\r\n  const [content, setContent] = useState(\"\");\r\n  const [title,setTitle] = useState(\"\");\r\n  useEffect(() => {\r\n    console.log(\"adsgag\");\r\n    console.log(props.match.params.id);\r\n    _getrticleDetail(props.match.params.id);\r\n  }, []);\r\n  const _getrticleDetail = useCallback(\r\n    (id) => {\r\n      getrticleDetailById(id).then((res) => {\r\n        console.log(\"getrticleDetailById\", res[0]);\r\n        setContent(res[0].content);\r\n        setTitle(res[0].title);\r\n      });\r\n    },\r\n    [getrticleDetailById]\r\n  );\r\n  return (\r\n    <DetailWrapper>\r\n      <Breadcrumb>\r\n        <Breadcrumb.Item>\r\n          <a\r\n            href=\"#\"\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              props.history.push(\"/platform/article/blobList\");\r\n            }}\r\n          >\r\n            文章列表\r\n          </a>\r\n        </Breadcrumb.Item>\r\n        <Breadcrumb.Item>文章详情</Breadcrumb.Item>\r\n      </Breadcrumb>\r\n      <ArticleRender title={title} content={content}  />\r\n    </DetailWrapper>\r\n  );\r\n});\r\n","G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\article\\detail\\style.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\article\\detail\\article-render\\index.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\article\\detail\\article-render\\style.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\article\\detail\\heading-block\\index.js",[],"G:\\毕业设计\\代码\\前端\\blob-admin\\src\\pages\\article\\detail\\heading\\index.js",[],["170","171"],{"ruleId":"172","replacedBy":"173"},{"ruleId":"174","replacedBy":"175"},{"ruleId":"176","severity":1,"message":"177","line":39,"column":5,"nodeType":"178","endLine":39,"endColumn":7,"suggestions":"179"},{"ruleId":"176","severity":1,"message":"180","line":22,"column":6,"nodeType":"178","endLine":22,"endColumn":8,"suggestions":"181"},{"ruleId":"182","severity":1,"message":"183","line":87,"column":15,"nodeType":"184","endLine":91,"endColumn":16},{"ruleId":"182","severity":1,"message":"185","line":102,"column":17,"nodeType":"184","endLine":102,"endColumn":29},{"ruleId":"186","severity":1,"message":"187","line":3,"column":8,"nodeType":"188","messageId":"189","endLine":3,"endColumn":17},{"ruleId":"176","severity":1,"message":"190","line":64,"column":6,"nodeType":"178","endLine":64,"endColumn":17,"suggestions":"191"},{"ruleId":"176","severity":1,"message":"192","line":65,"column":29,"nodeType":"188","endLine":65,"endColumn":40},{"ruleId":"176","severity":1,"message":"193","line":71,"column":6,"nodeType":"178","endLine":71,"endColumn":22,"suggestions":"194"},{"ruleId":"176","severity":1,"message":"195","line":127,"column":6,"nodeType":"178","endLine":127,"endColumn":8,"suggestions":"196"},{"ruleId":"176","severity":1,"message":"197","line":14,"column":6,"nodeType":"178","endLine":14,"endColumn":8,"suggestions":"198"},{"ruleId":"176","severity":1,"message":"199","line":23,"column":5,"nodeType":"178","endLine":23,"endColumn":26,"suggestions":"200"},{"ruleId":"182","severity":1,"message":"185","line":29,"column":11,"nodeType":"184","endLine":35,"endColumn":12},{"ruleId":"172","replacedBy":"201"},{"ruleId":"174","replacedBy":"202"},"no-native-reassign",["203"],"no-negated-in-lhs",["204"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["205"],"React Hook useEffect has missing dependencies: '_getArticleList' and 'pagination.pageSize'. Either include them or remove the dependency array.",["206"],"jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","no-unused-vars","'DOMPurify' is defined but never used.","Identifier","unusedVar","React Hook useCallback has an unnecessary dependency: 'SimpleMDE'. Either exclude it or remove the dependency array. Outer scope values like 'SimpleMDE' aren't valid dependencies because mutating them doesn't re-render the component.",["207"],"React Hook useCallback does nothing when called with only one argument. Did you forget to pass an array of dependencies?","React Hook useCallback has missing dependencies: 'md' and 'title'. Either include them or remove the dependency array.",["208"],"React Hook useEffect has a missing dependency: 'init'. Either include it or remove the dependency array.",["209"],"React Hook useEffect has missing dependencies: '_getrticleDetail' and 'props.match.params.id'. Either include them or remove the dependency array.",["210"],"React Hook useCallback has an unnecessary dependency: 'getrticleDetailById'. Either exclude it or remove the dependency array. Outer scope values like 'getrticleDetailById' aren't valid dependencies because mutating them doesn't re-render the component.",["211"],["203"],["204"],"no-global-assign","no-unsafe-negation",{"desc":"212","fix":"213"},{"desc":"214","fix":"215"},{"desc":"216","fix":"217"},{"desc":"218","fix":"219"},{"desc":"220","fix":"221"},{"desc":"222","fix":"223"},{"desc":"216","fix":"224"},"Update the dependencies array to be: [dispatch]",{"range":"225","text":"226"},"Update the dependencies array to be: [_getArticleList, pagination.pageSize]",{"range":"227","text":"228"},"Update the dependencies array to be: []",{"range":"229","text":"230"},"Update the dependencies array to be: [_createArticle, md, title]",{"range":"231","text":"232"},"Update the dependencies array to be: [init]",{"range":"233","text":"234"},"Update the dependencies array to be: [_getrticleDetail, props.match.params.id]",{"range":"235","text":"236"},{"range":"237","text":"230"},[1235,1237],"[dispatch]",[731,733],"[_getArticleList, pagination.pageSize]",[2345,2356],"[]",[2565,2581],"[_createArticle, md, title]",[4189,4191],"[init]",[536,538],"[_getrticleDetail, props.match.params.id]",[791,812]]